function quicksort(a) =
  if (#a < 2) then a
  else
    let pivot = a[#a/2];
        lesser = {e in a | e < pivot};
        equal = {e in a | e == pivot};
        greater = {e in a | e > pivot}
    in quicksort(lesser) ++ equal ++ quicksort(greater);