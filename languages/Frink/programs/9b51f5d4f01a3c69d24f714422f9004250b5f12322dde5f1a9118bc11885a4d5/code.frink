// This program calculates the path of a projectile with air resistance.
g = 9.80665 m/s^2
rho = 1.225 kg/m^3  // Density of air at sea level
cd = 0.47           // Drag coefficient of a sphere
radius = 10 cm
mass = 1 kg
area = pi radius^2

v0 = 100 miles/hour
angle = 45 degrees

vx = v0 cos[angle]
vy = v0 sin[angle]

x = 0 m
y = 0 m
t = 0 s
dt = .01 s

while y >= 0 m
{
   // Calculate the force of air resistance
   v = (vx^2 + vy^2)^(1/2)
   Fdrag = 1/2 rho v^2 cd area

   // Calculate the x and y components of the drag force
   Fdragx = Fdrag * vx/v
   Fdragy = Fdrag * vy/v

   // Calculate the acceleration in the x and y directions
   ax = -Fdragx / mass
   ay = -g - Fdragy / mass

   // Calculate the new velocity
   vx = vx + ax dt
   vy = vy + ay dt

   // Calculate the new position
   x = x + vx dt
   y = y + vy dt

   t = t + dt
   println[(t->s) + "\t" + (x->ft) + "\t" + (y->ft)]
}